(()=>{"use strict";function e(e,t){e.checkValidity()?function(e){e.disabled=!1}(t):function(e){e.disabled=!0}(t)}var t=document.querySelector(".profile__title"),n=document.getElementById("name"),o=document.querySelector(".profile__subtitle"),r=document.getElementById("job"),c=document.getElementById("edit-profile"),d=document.getElementById("place"),u=document.getElementById("link"),i=document.getElementById("opened-image"),a=i.querySelector(".popup__image"),l=i.querySelector(".popup__title"),p=document.querySelector("#add-card"),s=p.querySelector(".popup__form"),m=document.querySelector(".profile__add-button"),_=document.querySelector(".profile__edit-button"),f=c.querySelector(".popup__exit-btn"),v=c.querySelector(".popup__form"),y=p.querySelector(".popup__exit-btn"),k=i.querySelector(".popup__exit-btn");function E(e){e.classList.add("popup_opened"),document.addEventListener("keydown",q)}function g(e){e.classList.remove("popup_opened"),document.removeEventListener("keydown",q)}function q(e){27===e.keyCode&&g(document.querySelector(".popup_opened"))}function S(e){g(e),e.removeEventListener("click",S)}v.addEventListener("submit",(function(e){e.preventDefault(),t.textContent=n.value,o.textContent=r.value,g(c)})),f.addEventListener("click",(function(){return g(c)})),_.addEventListener("click",(function(){n.value=t.textContent,r.value=o.textContent,E(c)})),m.addEventListener("click",(function(){return E(p)})),y.addEventListener("click",(function(){return g(p)})),s.addEventListener("submit",(function(e){e.preventDefault(),h(x({name:d.value,link:u.value})),s.reset(),g(p)})),k.addEventListener("click",(function(){return g(i)})),document.querySelectorAll(".popup").forEach((function(e){e.addEventListener("mousedown",(function(t){t.target.classList.contains("popup")&&S(e)}))}));var L=document.getElementById("template-card").content.querySelector(".cards__item"),b=document.querySelector(".cards__list");function x(e){var t=L.cloneNode(!0),n=t.querySelector(".card__image"),o=t.querySelector(".card__text"),r=t.querySelector(".card__delete-button"),c=t.querySelector(".card__favorite-button");return n.src=e.link,n.alt=e.name,o.textContent=e.name,r.addEventListener("click",(function(){t.remove()})),c.addEventListener("click",(function(e){e.target.classList.toggle("card__favorite-button_active")})),n.addEventListener("click",(function(){!function(e){a.src=e.link,a.alt=e.name,l.textContent=e.name,E(i)}(e)})),t}function h(e){b.prepend(e)}[{name:"Куала Лумпур",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Сингапур",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Сеул",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Бали",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Бангкок",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Нячанг",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){h(x(e))})),document.querySelectorAll(".popup__form").forEach((function(t){var n=t.querySelectorAll(".popup__input"),o=t.querySelector(".popup__save-btn");e(t,o),n.forEach((function(n){n.addEventListener("input",(function(){var r;e(t,o),(r=n).validity.valid?function(e){var t="error-"+e.id;document.getElementById(t).textContent=" ",e.classList.remove("popup__input_type_error")}(r):function(e,t){var n="error-"+e.id;document.getElementById(n).textContent=t,e.classList.add("popup__input_type_error")}(r,r.validationMessage)}))}))}))})();